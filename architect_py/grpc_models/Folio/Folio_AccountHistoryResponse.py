# generated by datamodel-codegen:
#   filename:  Folio_AccountHistoryResponse.json
#   timestamp: 2025-02-26T08:01:08+00:00

from __future__ import annotations

from typing import Annotated, Dict, List

from msgspec import Meta, Struct


class AccountPosition(Struct):
    quantity: str
    break_even_price: str | None = None
    cost_basis: str | None = None
    liquidation_price: str | None = None
    trade_time: (
        Annotated[
            str | None,
            Meta(description='The meaning of this field varies by reporting venue.'),
        ]
        | None
    ) = None
    """
    The meaning of this field varies by reporting venue.
    """


class AccountSummary(Struct):
    account: str
    balances: Dict[str, str]
    positions: Dict[str, List[AccountPosition]]
    timestamp: str
    cash_excess: (
        Annotated[str | None, Meta(description='Cash available to withdraw.')] | None
    ) = None
    """
    Cash available to withdraw.
    """
    equity: str | None = None
    position_margin: (
        Annotated[
            str | None,
            Meta(description='Margin requirement based on current positions only.'),
        ]
        | None
    ) = None
    """
    Margin requirement based on current positions only.
    """
    purchasing_power: str | None = None
    realized_pnl: str | None = None
    total_margin: (
        Annotated[
            str | None,
            Meta(
                description='Margin requirement calculated for worst-case based on open positions and working orders.'
            ),
        ]
        | None
    ) = None
    """
    Margin requirement calculated for worst-case based on open positions and working orders.
    """
    unrealized_pnl: str | None = None
    yesterday_equity: str | None = None


class AccountHistoryResponse(Struct):
    history: List[AccountSummary]
